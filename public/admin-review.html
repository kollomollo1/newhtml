<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ูุฑุงุฌุนุฉ ุงูุตูุฑ (ุฃุฏูู)</title>
  <link rel="stylesheet" href="style.css" />
  <script src="firebase-config.js"></script>
</head>
<body>
  <h2>ูุฑุงุฌุนุฉ ุตูุฑ ุงูุจุงุฆุนูู</h2>
  <div id="pendingImages">โณ ุฌุงุฑู ุชุญููู ุงูุตูุฑ ุงูุบูุฑ ูุคูุฏุฉ...</div>

  <script>
    window.onload = async () => {
      const container = document.getElementById("pendingImages");
      const pending = await fetchImages(true);
      if (pending.length === 0) {
        container.innerHTML = "๐ซ ูุง ุชูุฌุฏ ุตูุฑ ูููุฑุงุฌุนุฉ";
        return;
      }

      container.innerHTML = "";
      pending.forEach(img => {
        const box = document.createElement("div");
        box.innerHTML = `
          <img src="${img.src}" width="150"><br>
          <b>ุงูุจุงุฆุน:</b> ${img.seller}<br>
          <button onclick="accept('${img.key}')">โ ูุจูู</button>
          <button onclick="reject('${img.key}')">โ ุฑูุถ</button>
          <hr>
        `;
        container.appendChild(box);
      });
    };

    window.accept = async (key) => {
      await updateImage(key, { pending: false });
      alert("โ ุชู ูุจูู ุงูุตูุฑุฉ");
      location.reload();
    };

    window.reject = async (key) => {
      await deleteImage(key);
      alert("โ ุชู ุฑูุถ ุงูุตูุฑุฉ");
      location.reload();
    };
  </script>
</body>
</html>
